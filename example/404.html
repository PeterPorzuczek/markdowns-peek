<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Articles - Markdowns Peek</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      height: 100vh;
      overflow: hidden;
    }
    #markdown-viewer-blog,
    #markdown-viewer-articles {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>

  <div id="markdown-viewer-blog"></div>
  <div id="markdown-viewer-articles"></div>

  <script src="/markdowns-peek.js"></script>
  <script>
    // Common configuration
    const commonConfig = {
      
      height: '100%',
      token: '',
      loadFirstFileAutomatically: true,
      hideFilesOnRoute: true,
      texts: {
        menu: 'MENU',
        files: 'ARTICLES',
        loading: 'LOADING...',
        selectFile: 'SELECT ARTICLE TO VIEW',
        error: 'ERROR: ',
        noFiles: 'NO ARTICLES FOUND',
        minRead: 'MIN READ',
        notFound: 'ARTICLE NOT FOUND'
      }
    };
    
    // Initialize first viewer for "blog" basePath with repo "echo"
    const viewerblog = new MarkdownsPeek({
      ...commonConfig,
      containerId: 'markdown-viewer-blog',
      theme: 'dark',
      owner: 'PeterPorzuczek',
      repo: 'echo',
      basePath: 'blog'
    });
    
    // Initialize second viewer for "articles-md" basePath with repo "articles"
    const viewerArticles = new MarkdownsPeek({
      ...commonConfig,
      containerId: 'markdown-viewer-articles',
      theme: 'light',
      owner: 'PeterPorzuczek',
      repo: 'articles',
      path: 'articles-md',
      basePath: 'articles'
    });
    
    // Additional logic to ensure at least one container is visible
    function ensureVisibility() {
      const blogContainer = document.getElementById('markdown-viewer-blog');
      const articlesContainer = document.getElementById('markdown-viewer-articles');
      
      // If both are hidden (no URL match), show the first one by default
      if (blogContainer && articlesContainer) {
        const blogHidden = blogContainer.style.display === 'none';
        const articlesHidden = articlesContainer.style.display === 'none';
        
        if (blogHidden && articlesHidden) {
          blogContainer.style.display = '';
        }
      }
    }
    
    // Check visibility after a short delay to allow widgets to initialize
    setTimeout(ensureVisibility, 100);
    window.addEventListener('popstate', () => setTimeout(ensureVisibility, 100));
  </script>

</body>
</html>
